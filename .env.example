# ===========================================
# API Marketplace Platform - Environment Variables
# ===========================================
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env file to version control!

# ===========================================
# Environment
# ===========================================
# Options: development, production, test
NODE_ENV=development

# ===========================================
# Database Configuration
# ===========================================
# PostgreSQL credentials
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=api_marketplace

# Database connection URL
# For Docker: postgresql://postgres:postgres@postgres:5432/api_marketplace?schema=public
# For local: postgresql://postgres:postgres@localhost:5432/api_marketplace?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/api_marketplace?schema=public

# ===========================================
# Redis Configuration
# ===========================================
# For Docker: redis://redis:6379
# For local: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ===========================================
# Backend Server Configuration
# ===========================================
# Port for the backend API server
PORT=3000

# ===========================================
# JWT Authentication
# ===========================================
# IMPORTANT: Generate a strong secret for production!
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT Token Expiration (in seconds)
# Default: 86400 (24 hours)
JWT_EXPIRES_IN=86400

# ===========================================
# Frontend Configuration
# ===========================================
# URL where the frontend is hosted (for CORS)
# For Docker with nginx: http://localhost
# For local development: http://localhost:5173
FRONTEND_URL=http://localhost:5173

# API URL for frontend to connect to backend
# For Docker with nginx: (empty - uses relative /api paths)
# For local development: http://localhost:3000
VITE_API_URL=http://localhost:3000

# ===========================================
# Encryption
# ===========================================
# AES-256 encryption key for provider tokens
# IMPORTANT: Generate a strong key for production!
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-hex-encryption-key-change-in-production

# ===========================================
# Rate Limiting
# ===========================================
# Time window for rate limiting (in milliseconds)
# Default: 60000 (1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window per IP/key
# Default: 100
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# Logging
# ===========================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ===========================================
# Production-Only Settings
# ===========================================
# SSL/TLS Configuration (for production)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Trusted proxy count (for X-Forwarded-For header)
# Set to 1 if behind nginx, 2 if behind nginx + load balancer
TRUST_PROXY=1

# ===========================================
# External Services (Optional)
# ===========================================
# CLI Proxy URL for iframe integration in admin panel
# For VPS: http://103.77.173.186:3000/cliproxy/control-panel
# For local: http://localhost:3000/cliproxy/control-panel
VITE_CLI_PROXY_URL=http://103.77.173.186:3000/cliproxy/control-panel

# ===========================================
# Backup Configuration (Production)
# ===========================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30

